<h1>All Sessions</h1>

<p><%= link_to 'New Session', new_session_path %></p>
 
<table>
  <tr>
    <th>ID</th>
    <th>Status</th>
    <th>Player A</th>
    <th>Player B</th>
    <th>Actions</th>
  </tr>
 
  <% @sessions.each do |session| %>
    <tr>
      <td><%= session.id %></td>
      <td><%= session.status_message %></td>
      <td><%= session.player_a.name %></td>
      <td>
        <% if !session.player_b.nil? -%>
          <%= session.player_b.name %>
        <% end -%>
      </td>
      <td>
        <% if session.player_b.nil? -%>
          <%= link_to 'Join', session_join_path(session) %> | 
        <% end -%>
        <%= link_to 'View', session %>
      </td>
    </tr>
  <% end %>
</table>